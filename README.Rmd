---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# evavelo

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![Codecov test coverage](https://codecov.io/gh/JMPivette/evavelo/branch/master/graph/badge.svg)](https://codecov.io/gh/JMPivette/evavelo?branch=master)
<!-- badges: end -->

Le but du package {evavelo} est d'appliquer des traitements automatiques sur des fichiers d'enquêtes liés à la méthode EVA-VELO (Méthode nationale evaluation des retombées des vélo-routes) développée par **Vélo et Territoires**

## Utilisation

Ce projet est en cours de developpement et ne peut pas encore être utilisé.

Il sera composé de fonctions de traitements de fichier mais aussi d'une interface web.

### Traitement enquête Eva-Velo

La function principale `process_evavelo()` permet de traiter un fichier d'enquête xlsx avec la méthode Eva-Vélo.

```{r}
xlsx_path <- system.file("example-data/02_simplified.xlsx", package = "evavelo")

##eva_data <- evavelo::read_evavelo(xlsx_path)
eva_data_processed <- evavelo::process_evavelo(xlsx_path)
lapply(eva_data_processed, head)
```


### Traitement étapes par étapes
Il est possible de décomposer le traitement étapes par étapes:

```{r}
eva_data <- evavelo::read_evavelo(xlsx_path)

eva_data_geocoded <- evavelo::geocode_evavelo(eva_data)

eva_data_processed <- evavelo::process_evavelo(eva_data_geocoded)

lapply(eva_data_processed, head)


```

